<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title>
</title>
<meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
</head>
<body BGCOLOR="#E7E3E7" TEXT="#000000" LINK="#004080" VLINK="#004080">

<table COLS="3" width="%">
<tr>
<td>
<font face="Arial, Helvetica, sans-serif">
<a href="gl18_13.html">
<img SRC="Back.gif" BORDER="0"  >
</a>
</font>
</td>
<td width="%">
<font face="Arial, Helvetica, sans-serif">
<a href="../index.html">
<img SRC="Menu.gif" BORDER="0"  >
</a>
</font>
</td>
<td ALIGN="RIGHT">
<font face="Arial, Helvetica, sans-serif">
<a href="gl18_15.html">
<img SRC="For.gif" BORDER="0"  >
</a>
</font>
</td>
</tr>
</table>

<p>
&nbsp;
</p>
<p align="center">
<font face="Arial, Helvetica, sans-serif" size="3">
<b>
<font size="4">

Ќеиспользованное врем€

</font>
</b>
<br>
</font>
</p>


<P><font face="Arial, Helvetica, sans-serif" size="3">ѕоскольку программа, работающа€ в среде Turbo Vision, рассчитана на диалог с 
пользователем, в ней всегда найдутс€ такие промежутки времени, в течение которых 
она просто пассивно ожидает действий пользовател€. Turbo Vision предоставл€ет 
¬ам удобное средство, позвол€ющее в этот момент загрузить процессор не слишком 
долгой, но нужной дл€ ¬ас работой.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">—тандартный метод TView.GetEvent построен таким образом, что если нет никаких 
событий, он обращаетс€ к псевдоабстрактному методу TView.Idle. ѕо умолчанию 
TView.Idle ничего не делает, он просто возвращает управление методу GetEvent, 
заставл€€ его непрерывно сканировать клавиатуру и мышь. ¬ы можете перекрыть 
TView.Idle, чтобы выполнить нужные действи€.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">¬ следующем примере каждые 5 сек в правый верхний угол экрана выводитс€ 
системное врем€. ƒл€ упрощени€ программы вывод осуществл€етс€ стандартными 
средствами “урбо ѕаскал€.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses DOS,CRT,App;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> type</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">TProg = object (TApplication)</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure Idle; Virtual;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure TProg.Idle;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> const</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">old: Byte = 0; {—тарое значение секунд}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> dt = 5; {Ўаг вывода}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">ho,mi,se,s100: Word; Function TimeStr(k: Word): String;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">s: String [2];&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">str(k,s);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if k &lt; 10 then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">s := '0'+s;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> TimeStr := s&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end;  {TimeStr}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin {TProg.Idle}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">GetTime(ho,mi,se,s100);&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> if (se mod dt = 0) and (old &lt;&gt; se) then&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Old := Se; T</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">extColor(Black) ;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> TextBackGround(White);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> GotoXY(72,1);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Write(TimeStr(ho)+ ':'+TimeStr(mi) + ':'+TimeStr(se))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end;  {TProg.Idle}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Prog:TProg;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Prog.Init;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Prog.Run;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Prog.Done&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">–азумеетс€, не следует поручать методу TView.Idle слишком сложную работу, 
иначе пользователь ¬ашей программы будет безуспешно нажимать на клавиши, пыта€сь 
вернуть к жизни Ђзависшуюї программу. ѕредполагаетс€, что рабочий цикл метода не 
будет превышать нескольких сотен миллисекунд. ≈сли все-таки ¬ы хотите выполнить 
достаточно длинную фоновую задачу, попытайтесь разбить ее на серию мелких шагов.</font> 
</P>

<p>
&nbsp;
</p>
<table COLS="3" width="%">
<tr>
<td>
<font face="Arial, Helvetica, sans-serif">
<a href="gl18_13.html">
<img SRC="Back.gif" BORDER="0"  >
</a>
</font>
</td>
<td width="%">
<font face="Arial, Helvetica, sans-serif">
<a href="../index.html">
<img SRC="Menu.gif" BORDER="0"  >
</a>
</font>
</td>
<td ALIGN="RIGHT">
<font face="Arial, Helvetica, sans-serif">
<a href="gl18_15.html">
<img SRC="For.gif" BORDER="0"  >
</a>
</font>
</td>
</tr>
</table>

</BODY></HTML>