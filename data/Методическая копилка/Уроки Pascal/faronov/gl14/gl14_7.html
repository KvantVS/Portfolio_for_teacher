<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title>
</title>
<meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
</head>
<body BGCOLOR="#E7E3E7" TEXT="#000000" LINK="#004080" VLINK="#004080">

<table COLS="3" width="%">
<tr>
<td>
<font face="Arial, Helvetica, sans-serif">
<a href="gl14_6.html">
<img SRC="Back.gif" BORDER="0"    >
</a>
</font>
</td>
<td width="%">
<font face="Arial, Helvetica, sans-serif">
<a href="../index.html">
<img SRC="Menu.gif" BORDER="0"    >
</a>
</font>
</td>
<td ALIGN="RIGHT">
<font face="Arial, Helvetica, sans-serif">
<a href="gl14_8.html">
<img SRC="For.gif" BORDER="0"    >
</a>
</font>
</td>
</tr>
</table>



<p>
&nbsp;
</p>
<p align="center">
<font face="Arial, Helvetica, sans-serif" size="3">
<b>
<font size="4">

Краски, палитры, заполнения

</font>
</b>
<br>
</font>
</p>


<p align="center">
<font face="Arial, Helvetica, sans-serif" size="3">
<b>Процедура</b> SetColor. </font> </P>


<p align="left">
<font face="Arial, Helvetica, sans-serif" size="3">
Устанавливает текущий цвет для выводимых линий и символов. Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure SetColor(Color: Word);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь Color - текущий цвет.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">В модуле Graph определены точно такие же константы для задания цвета, как и в 
модуле СИГ (см. п.13.2).</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Функция </font> <font face="Arial, Helvetica, sans-serif" size="3"> GetColor.</font> <font face="Arial, Helvetica, sans-serif" size="3"> Возвращает значение типа Word, содержащее код текущего 
цвета. Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Function GetColor: Word;</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Функция </b>GetMaxColor.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Возвращает значение типа Word, содержащее максимальный 
доступный код цвета, который можно использовать для обращения к SetColor. 
Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Function GetMaxColor: Word;</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><font size="3"><b>Процедура </b>SetBkColor.</font> </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3"> Устанавливает цвет фона. Заголовок:&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Procedure SetBkColor(Color: Word);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь Color - цвет фона.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">В отличие от текстового режима, в котором цвет фона может быть только темного 
оттенка, в графическом режиме он может быть любым. Установка нового цвета фона 
немедленно изменяет цвет графического экрана. Это означает, что нельзя создать 
изображение, два участка которого имели бы разный цвет фона. Для CGA -адаптера в 
режиме высокого разрешения установка цвета фона изменяет цвет активных пикселей. 
Замечу, что после замены цвета фона на любой, отличный от 0 (Black) цвет, Вы не 
сможете более использовать цвет 0 как черный, он будет заменяться на цвет фона, 
т.к. процедуры модуля Graph интерпретируют цвет с номером 0 как цвет фона. Это 
означает, в частности, что Вы уже не сможете вернуть фону черный цвет!</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Если Ваш ПК оснащен цветным экраном, следующая программа продемонстрирует 
работу процедуры SetBkColor. Программа выводит десять вложенных друг в друга 
прямоугольников, после чего циклически меняет цвет фона. Для выхода из программы 
достаточно нажать на любую клавишу.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> const</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">NC: array [0..15] of String [12] =</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">('Black','Blue','Green','Cyan','Red','Magenta',</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">&nbsp;' Brown','LightGray','DarkGray','LightBlue',</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">&nbsp;'LightGreen1,'LightCyan1,'LightRed',</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">'LightMagenta','Yellow','White');</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d, r, e, k, color, dx, dy: Integer;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}</font> <font face="Verdana, Arial, Helvetica, sans-serif" size="3">&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := Detect; InitGraph(d, r, ' ') ;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult; if 
e &lt;&gt; grOK then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Выводим текст в центре экрана}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">OutTextXY(200,GetMaxY div 2,'BACKGROUND
COLOR');</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">dx := GetMaxX div 30;  {Приращение длины}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">dy := GetMaxY div 25; {Приращение высоты}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">for k := 0 to 9 do{Выводим 10 прямоугольников}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Rectangle(k*dx,k*dy,GetMaxX-k*dx,GetMaxY-k*dy);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">color := black;  {Начальный цвет фона}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> repeat  {Цикл смены фона}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetBkColor(color) ;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle(0,Color);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Bar(345,GetMaxY div 2,440,GetMaxY div 2+8);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">OutTextXY(345,GetMaxY div 2,NC[color]);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">delay(1000);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">inc(color);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if color &gt; White then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">color := Black until KeyPressed;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if ReadKey=#0 then&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> k := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Функция </b> GetBkColor.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Возвращает значение типа Word, содержащее текущий цвет 
фона. Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Function GetBkColor: Word;</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура </b> SetPalette.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Заменяет один из цветов палитры на новый цвет. 
Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure SetPalette(N: Word; Color:
Shortlnt);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь N - номер цвета в палитре; Color - номер вновь устанавливаемого цвета.</font> 
</P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Данная процедура может работать только с адаптерами EGA или VGA. Она не 
должна использоваться с IBM8514 или 256-цветным вариантом VGA - для этих 
адаптеров предназначена особая процедура SetRGBPalette (см. ниже). 
Первоначальное размещение цветов в палитрах EGA/VGA соответствует 
последовательности их описания константами Black,....White, т.е. цвет с индексом 
0 - черный, 1 - синий, 2 - зеленый и т.д. После обращения к процедуре все 
фрагменты изображения, выполненные цветом с индексом N из палитры цветов, 
получат цвет Color. Например, если выполнить оператор</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetPalette(2,White);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">то цвет с индексом 2 (первоначально это - бирюзовый цвет Cyan) будет заменен 
на белый. Замечу, что цвет с индексом 0 отождествляется с цветом фона и может 
изменяться наряду с любым другим цветом.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Следующая программа выводит на экран ряд прямых разного цвета и затем 
случайным образом меняет цвета палитры.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d,r,e,N,k,color: Integer;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Palette : PaletteTyper;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d := Detect; InitGraph(d, r, ' ') ;&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult; if e &lt;&gt; grOK then</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Выбираем толстые сплошные линии}</font> <font face="Verdana, Arial, Helvetica, sans-serif" size="3">&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetLineStyle(SolidLn, 0, ThickWidth);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">GetPalette(Palette) ;  {Текущая палитра}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> for Color := 0 to Palette.Size-1 do&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> 
begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetColor(Color);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Line(GetMaxX div 3,Color*10,2*GetMaxX div 3,Color*10)&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Меняем палитру и ждем инициативы пользователя}</font> <font face="Verdana, Arial, Helvetica, sans-serif" size="3">&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> while not KeyPressed do</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">for e := 0 to Palette.Size-1 do</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetPalette(e,Random(Palette.Size));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> if ReadKey=#0 then d := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> 
CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> GetPalette.  </font> 
</P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Возвращает размер и цвета текущей палитры. Заголовок:</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure GetPalette(var Palettelnfo:
PaletteType);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь Palettelnfo - переменная типа PaletteType, возвращающая размер и цвета 
палитры.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">В модуле Graph определена константа</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">const</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">MaxColors =15;&nbsp;</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3"> и тип</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">type</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">PaletteType = record</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Size : Word;  {Количество цветов в палитре}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Colors : array [0..MaxColors] of 
Shortlnt</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Номера входящих в палитру цветов}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end;</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">С помощью следующей программы можно вывести на экран номера всех возможных 
цветов из текущей палитры.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Palette: PaletteType;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d,r,e,k: Integer;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := Detect; InitGraph(d, r, ' ') ;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult; if 
e &lt;&gt; grOk then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">GetPalette(Palette);  {Получаем палитру}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">CloseGraph;  {Возвращаемся в текстовый 
режим}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> with Palette do  {Выводим номера цветов}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> for k := 0 to pred(Size) do</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Write(Colors[k]:5);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.&nbsp;</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> SetAllPalette.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Изменяет одновременно несколько цветов палитры. 
Заголовок процедуры:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure SetAllPalette(var Palette);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Параметр Palette в заголовке процедуры описан как нетипизированный параметр. 
Первый байт этого параметра должен содержать длину N палитры, остальные N байты 
- номера вновь устанавливаемых цветов в диапазоне от -1 до MaxColors. Код -1 
означает, что соответствующий цвет исходной палитры не меняется.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">В следующей программе происходит одновременная смена сразу всех цветов 
палитры.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Palette: array [0..MaxColors] of Shortint;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d,r,e,k: Integer;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := Detect; InitGraph(d, r, '');&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult; if e 
&lt;&gt; grOk then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Выбираем толстые сплошные линии}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetLineStyle(SolidLn, 0, ThickWidth);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> 
{Выводим линии всеми доступными цветами}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> for k := 1 to GetMaxColor do&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetColor(k);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Line(GetMaxX div 3,k*10,2*GetMaxX div 3,k*10)&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Palette[0] := MaxColors;  {Размер палитры}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> repeat  {Цикл смены палитры}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> for k 
:= 1 to MaxColors do</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Palette[k] := Random(succ(MaxCoLors));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetAllPalette(Palette)&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> until KeyPressed;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if ReadKey=#0 then k := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Функция</b> GetPaletteSize.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Возвращает значение типа Integer, содержащее размер 
палитры (максимальное количество доступных цветов). Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Function GetPaletteSize: Integer;</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура </b> GetDefaultPalette.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Возвращает структуру палитры, устанавливаемую по 
умолчанию (в режиме автонастройки). Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure GetDefaultPalette(var Palette:
PaletteType);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь Palette - переменная типа PaletteType (см. процедуру GetPalette), в 
которой возвращаются размер и цвета палитры.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> SetFillStyle.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Устанавливает стиль (тип и цвет) заполнения. 
Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure SetFillStyle(Fill,Color: Word);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь Fill - тип заполнения; Color - цвет заполнения.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">С помощью заполнения можно покрывать какие-либо фрагменты изображения 
периодически повторяющимся узором. Для указания типа заполнения используются 
следующие предварительно определенные константы:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">const</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">EmptyFill = 0;{Заполнение фоном (узор отсутствует)}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> SolidFill = 1;{Сплошное 
заполнение}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">LineFill = 2;{Заполнение -------}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">LtSlashFill = 3;{Заполнение ///////}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SlashFill = 4;{Заполнение утолщенными ///}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">BkSlashFill = 5;{Заполнение утолщенными \\\}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">LtBkSlashFill = 6;{Заполнение \\\\\\\}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">HatchFill = 7;{Заполнение +++++++}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">XHatchFill = 8;{Заполнение ххххххх}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">InterleaveFill= 9;{Заполнение прямоугольную клеточку}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WideDotFill = 10;{Заполнение редкими точками}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">CloseDotFill = 11;{Заполнение частыми точками}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">UserFill = 12;{Узор определяется пользователем}</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Программа из следующего примера продемонстрирует Вам все стандартные типы 
заполнения.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d,r,e,k,j,x,y: Integer;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := Detect; InitGraph(d, r, ' ') ;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult; if 
e &lt;&gt; grOk then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">x := GetMaxX div 6;{Положение графика}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">у := GetMaxY div 5;{на экране}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">for j := 0 to 2 do{Два ряда}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">for k := 0 to 3 do{По четыре квадрата}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Rectangle((k+1)*x,(j+1)*y,(k+2)*x,(j+2)*y);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle(k+j*4,j+1);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Bar((k+1)*x+1,(j+1)*y+1,(k+2)*x-1,(j+2)*y-1)&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if ReadKey=#0 then k := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Если параметр Fill имеет значение 12 (UserFill), то рисунок узора 
определяется программистом путем обращения к процедуре SetFillPattern.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура </b> SetFillPattern.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Устанавливает образец рисунка и цвет штриховки. 
Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure SetFillPattern(Pattern:
FillPatternType</font><font face="Verdana, Arial, Helvetica, sans-serif" size="3">;Color: Word);</font></font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь Pattern - выражение типа FillPatternType; устанавливает образец рисунка 
для Fill - UserFill в процедуре SetFillStyle; Color - цвет заполнения.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Образец рисунка задается в виде матрицы из 8x8 пикселей и может быть 
представлен массивом из 8 байт следующего типа:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">type</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">FillPatternType = array [1..8] of Byte;</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Каждый разряд любого из этих байтов управляет светимостью пикселя, причем 
первый байт определяет 8 пикселей первой строки на экране, второй байт - 8 
пикселей второй строки и т.д.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">На рис. 14.8 показан пример двух образцов заполнения. На рисунке черточкой 
обозначается несветящийся пиксель, а прямоугольником - светящийся. Для каждых 8 
пикселей приводится шестнадцатеричный код соответствующего байта.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Следующая программа заполняет этими образцами две прямоугольных области экрана.</font> 
</P>
<p align="center"><img border="0" src="14_8.jpg"     ></p>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Рис.14.8.</b> Образцы заполнения и их коды</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> const</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">pattl: FillPatternType= ($49,$92,$49,$92,$49,$92,$49,$92);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> patt2: FillPatternType= ($00,$18,$24,$42,$42,$24,$18,$00);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d,r,e: Integer;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">begin&nbsp; {Инициируем графику}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := Detect; InitGraph(d, r, '');&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := 
GraphResult; if e &lt;&gt; grOk then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if d=CGA then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetGraphMode (0) ;  {Устанавливаем цвет для CGA}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle(UserFill,White);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> 
{Левый верхний квадрат}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillPattern(Patt1,1);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Bar(0,0,GetMaxX div 2, GetMaxY 
div 2);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {Правый нижний квадрат}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillPattern(Patt2,2);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Bar(GetMaxX div 2,GetMaxY div 2,GetMaxX,GetMaxY);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> if ReadKey=#0 then d := 
ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Если при обращении к процедуре указан недопустимый код цвета, вызов процедуры 
игнорируется и сохраняется ранее установленный образец заполнения. В частности, 
если в предыдущем примере убрать оператор</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if d=CGA then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetGraphMode(0);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">устанавливающий цветной режим работы CGA -адаптера, на экран ПК, оснащенного 
адаптером этого типа, будут выведены два одинаковых прямоугольника, так как 
обращение</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillPattern(patt2, 2);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">содержит недопустимо большой для данного режима код цвета и обращение 
игнорируется. Сказанное, однако, не относится к процедуре SetFillStyle для 
значения параметра Fill в диапазоне от 0 до 11: программа будет нормально 
работать и в режиме высокого разрешения CGA-адаптера, причем все цвета палитры, 
кроме цвета фона, при этом заменяются на белый.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура </b> GetFillPattern.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Возвращает образец заполнения, установленный ранее 
процедурой SetFillPattern. Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure GetFillPattern(var Pattern:
FillPatternType);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь Pattern - переменная типа FillPatternType, в которой возвращается 
образец заполнения.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Если программа не устанавливала образец с помощью процедуры SetFillPattern, 
массив Pattern заполняется байтами со значением 255 ($FF).</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> GetFillSettings.  </font> 
</P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Возвращает текущий стиль заполнения. Заголовок:</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure GetFillSettings(var Pattlnfo:
FillSettingsType);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь Pattlnfo - переменная типа FillSettingsType, в которой возвращается 
текущий стиль заполнения,</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">В модуле Graph определен тип:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">type</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">FillSettingsType = record</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Pattern: Word;  {Образец}</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Color : Word  {Цвет}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end;</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Поля Pattern и Color в этой, записи имеют то же назначение, что и аналогичные 
параметры при обращении к процедуре SetFillStyle.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> SetRGBPalette.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Устанавливает цветовую гамму при работе с дисплеем 
IBM 8514 и адаптером VGA. Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure SetRGBPalette(ColNum,RedVal,
GreenVal,BlueVal</font><font face="Verdana, Arial, Helvetica, sans-serif" size="3">:Integer);</font></font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь ColNum - номер цвета; RedVal, GreenVal, BlueVal - выражения типа 
Integer, устанавливающие интенсивность соответственно красной, зеленой и синей 
составляющих цвета.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Эта процедура может работать только с дисплеем IBM 8514, а также с адаптером 
VGA, использующим видеопамять объемом 256 Кбайт. В первом случае параметр ColNum 
задается числом в диапазоне 0...255, во втором - в диапазоне 0...15. Для 
установки интенсивности используются 6 старших разрядов младшего байта любого из 
параметров RedVal, GreenVal, BlueVal.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">В следующей программе в центре экрана выводится прямоугольник белым цветом, 
после чего этот цвет случайно изменяется с помощью процедуры SetRGBPalette. Для 
выхода из программы нужно нажать любую клавишу.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph,CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Driver, Mode, Err, xl, yl: Integer;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графический режим}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Driver := Detect;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">InitGraph(Driver, Mode, '');</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Err := GraphResult;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if ErroO then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(Err))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else if Driver in [IBM8514, VGA] then&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Выводим прямоугольник в центре экрана}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">x1 := GetMaxX div 4;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">y1 := GetMaxY div 4;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetColor(lS);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Bar(x1,y1,3*x1,3*y1);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Изменяем белый цвет на случайный}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">while not KeyPressed do</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetRGBPalette(15,Random(256),Random(256),Random(256));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> 
begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">CloseGraph; .</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn('Адаптер не поддерживает ' , 'RGB-режим управления цветами')&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> 
</P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> FloodFill.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Заполняет произвольную замкнутую фигуру, используя 
текущий стиль заполнения (узор и цвет). Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure FloodFill(X,Y: Integer; Border:
Word);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь X, Y- координаты любой точки внутри замкнутой фигуры; Border - цвет 
граничной линии.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Если фигура незамкнута, заполнение «разольется» по всему экрану.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Следует учесть, что реализованный в процедуре алгоритм просмотра границ 
замкнутой фигуры не отличается совершенством. В частности, если выводятся подряд 
две</font> <font face="Arial, Helvetica, sans-serif" size="3">пустые строки, заполнение прекращается. Такая ситуация обычно возникает при 
заполнении небольших фигур с использованием типа LtSlashFill. В фирменном 
руководстве по Турбо Паскалю рекомендуется, по возможности, вместо процедуры 
FloodFill использовать FillPoly (заполнение прямоугольника).</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Следующая программа демонстрирует заполнение случайных окружностей. Сначала в 
центре экрана создается окно, в котором заполняется небольшой прямоугольник. 
Часть прямоугольника останется незаполненной, в чем Вы можете убедиться, так как 
программа в этот момент приостанавливает работу, ожидая нажатия на клавишу 
Enter. Затем осуществляется вывод и заполнение случайных окружностей до тех пор, 
пока не будет нажата любая клавиша. Замечу, что прямоугольник заполняется 
полностью, если вместо типа LtSlashFill (косая штриховка линиями обычной 
толщины) используется SlashFill (штриховка утолщенными линиями). Если программа 
будет работать достаточно долго, она может «зависнуть», что лишний раз 
свидетельствует о несовершенстве реализованного в ней алгоритма.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d, r, е, х, у, с : Integer;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}&nbsp;</font> 
 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := Detect; InitGraph(d, r, ' ') ;&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if e &lt;&gt; grOk then . . WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Создаем прямоугольное окно}</font> <font face="Verdana, Arial, Helvetica, sans-serif" size="3">&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> х := GetMaxX div 4;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> у. := GetMaxY div 4;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Rectangle(х,у,3*x,3*y);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetViewPort(x+1,y+1, 3*x-1,3*y-1,ClipOn);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {Демонстрируем заливку маленького 
прямоугольника}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetPillStyle(LtSlashFill,GetMaxColor);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Rectangle(0,0,8,20); 
FloodFill(1,1,GetMaxColor);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">OutTextXY(10,25,'Press Enter...');&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">ReadLn; {Ждем 
нажатия Enter}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {Выводим окружности до тех пор, пока не будет нажата любая 
клавиша}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> repeat</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Определяем случайный стиль заливки}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle(Random(12),Random(GetMaxColor+1));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {Задаем координаты центра и цвет 
окружности}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> х := Random (GetMaxX div 2);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> у := Random (GetMaxY div 2);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> с := 
Random (succ(GetMaxColor));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetColor(c);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {Выводим и заливаем окружность}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Circle(x, у, Random(GetMaxY div 5));&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> FloodFill (x, у, с)&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> until KeyPressed;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if ReadKey=#0 then&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> x := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> Bar.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Заполняет прямоугольную область экрана. Заголовок:&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Procedure Bar(X1,Y1,X2,Y2: Integer);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь XJ...Y2 - координаты левого верхнего (X1, Y1) и правого нижнего (Х2, 
Y2) углов закрашиваемой области.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Процедура закрашивает (но не обводит) прямоугольник текущим образцом узора и 
текущим цветом, которые устанавливаются процедурой SetFillStyle.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Следующая программа дает красивые цветовые эффекты (закраска случайных 
прямоугольников).</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d, r, e : Integer;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d : = Detect; InitGraph(d, r, '');&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult; if 
e &lt;&gt; grOk then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Создаем окно в центре экран}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := GetMaxX div 4;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> r := GetMaxY div 4; Rectangle(d,r,3*d,3*r);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetViewPort(d+1,r+1,3*d-1,3*r-1,ClipOn);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {Цикл вывода и закраски случайных 
многоугольников}</font> <font face="Verdana, Arial, Helvetica, sans-serif" size="3">&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> repeat</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle(Random(12),Random(succ(GetMaxColor)));&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Bar(Random(Ge 
tMaxX),Random(Ge tMaxY),</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">&nbsp; Random(Ge tMaxX),Random(Ge tMaxY));&nbsp;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> until KeyPressed;</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if ReadKey=#0 then d := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> Ваr3D.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Вычерчивает трехмерное изображение параллелепипеда и 
закрашивает его переднюю грань . Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure Ваr3D (X1,Y1,X2,Y2,Depth:
Integer; Top: Boolean);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь X1... Y2 - координаты левого верхнего (X1, Y1) и правого нижнего (Х2, 
Y2) углов передней грани; Depth - третье измерение трехмерного изображения 
(«глубина») в пикселях; Тор - способ изображения верхней грани.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Если параметр Тор имеет значение True, верхняя грань параллелепипеда 
вычерчивается, в противном случае - не вычерчивается (этот вариант используется 
для изображения поставленных друг на друга параллелепипедов, см. следующий 
пример). В качестве значения этого параметра может использоваться одна из 
следующих констант, определенных в модуле Graph:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">const</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">TopOn = True;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> TopOff = False;</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">При вычерчивании используется текущий стиль линий (SetLineStyle) и текущий 
цвет (SetColor). Передняя грань заливается текущим стилем заполнения 
(SetFillStyle).</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Процедура обычно применяется при построении столбиковых диаграмм. Следует 
учесть, что параллелепипед «прозрачен», т.е. за его незакрашенными гранями могут 
быть видны другие элементы изображения.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Следующая программа иллюстрирует различные аспекты применения процедуры 
Bar3D.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph,CRT;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d, r, e: Integer;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d := Detect;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Ini-tGraph(d, r, ' ') ;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">e := GraphResult;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if e &lt;&gt; grOk then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Столбик с верхней гранью:}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Bar3D (80, 100, 120, 180, 15, TopOn);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {Столбик 
без верхней грани:}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Ваг3D (150, 150, 190, 180, 15, TopOff);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {Этот столбик 
"стоит" на следующем и прозрачен:}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Bar3D (230, 50, 250, 150, 15, TopOn);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Bar3D 
(220, 150, 260, 180, 15, TopOn);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {У этого столбика нет верхней грани, и поэтому 
он не мешает поставленному на него сверху:}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Bar3D (300, 150, 340, 180, 15, TopOff);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetLineStyle(3,0,1);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetColor(Yellow);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle(LtSlashFill,Yellow);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> Bar3D (300, 50, 340, 150, 15, TopOn);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> if 
ReadKey=#0 then d := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">CloseGraph;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> Fill Poly.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Обводит линией и закрашивает замкнутый многоугольник. 
Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure FillPoly(N: Word; var Coords);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь N - количество вершин замкнутого многоугольника; Coords - переменная 
типа PointType, содержащая координаты вершин.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Координаты вершин задаются парой значений типа Integer: первое определяет 
горизонтальную, второе - вертикальную координаты. Для них можно использовать 
следующий определенный в модуле тип:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">type</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">PointType = record</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">х, у : Integer&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end;</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Стиль и цвет линии контура задаются процедурами SetLineStyle и SetColor, тип 
и цвет заливки - процедурой SetFillStyle.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">В следующем примере на экран выводятся случайные закрашенные многоугольники.</font> 
</P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d, r, e: Integer;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">p : array [1..6] of PointType; n, k : Word;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := Detect; InitGraph(d, r, ' ') ;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult; if 
e &lt;&gt; grOk then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Создаем окно в центре экрана}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d := GetMaxX div 4;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">r := GetMaxY div 4;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Rectangle(d,r,3*d,3*r);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetViewPort(d+l,r+l,3*d-l,3*r-l,ClipOn);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Цикл вывода случайных закрашенных многоугольников}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">repeat</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Выбираем случайный цвет и узор)</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle(Random(12),Random(succ(GetMaxColor)));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> SetColor 
(Random(succ(GetMaxColor)));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> {Назначаем случайные координаты}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">n := Random (4) + 3 ; for k := 1 to n do with p[k] do&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">x := Random (GetMaxX div 2);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">у := Random (GetMaxY div 2)</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">FillPoly (n, p)  {Выводим и закрашиваем}&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> until KeyPressed;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if ReadKey=#0 then k := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура </b> FillEllipse.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Обводит линией и заполняет эллипс. Заголовок:</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Procedure FillEllipse(X,Y,RX,RY: Integer);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь X, Y - координаты центра; RX, RY- горизонтальный и вертикальный радиусы 
эллипса в пикселях.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Эллипс обводится линией, заданной процедурами SetLineStyle и SetColor, и 
заполняется с использованием параметров, установленных процедурой SetFillStyle.</font> 
</P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> Sector.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Вычерчивает и заполняет эллипсный сектор. Заголовок: 
Procedure Sector(X,Y: Integer; BegA,EndA,RX,RY: Word);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Здесь BegA, EndA - соответственно начальный и конечный углы эллипсного 
сектора. Остальные параметры обращения аналогичны параметрам процедуры 
FillEllipse.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">В следующей программе на экран выводятся случайные закрашенные эллипсы и 
секторы. Для выхода из программы нажмите любую клавишу.</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d, r, e : Integer;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графику}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := Detect; InitGraph(d, r, '');&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult; if e 
&lt;&gt; grOk then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Создаем окно в центре экрана}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d := GetMaxX div 4;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">r := GetMaxY div 4;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Rectangle(d,r,3*d,3*r);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetViewPort(d+1,r+1,3*d-1,3*r-1,ClipOn);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Цикл вывода}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">repeat</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle(Random(12), Random(succ(GetMaxColor)));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> SetColor 
(Random(succ(GetMaxColor)));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Sector(Random(GetMaxX div),Random(GetMaxY div 2),&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Random(360),Random(360),Random(GetMaxX div 5),</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Random(GetMaxY div 5));&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> FillEl.lipse (Random (GetMaxX div 2),</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Random(GetMaxY div 2),Random(GetMaxX div 5),&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Random(GetMaxY div 5))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> until KeyPressed;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">if ReadKey=#0 then d := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> CloseGraph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Процедура</b> PieSlice.  </font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Вычерчивает и заполняет сектор окружности. Заголовок:&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> 
Procedure PieSlice(X,Y: Integer; BegA,EndA,R: Word);</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">В отличие от процедуры Sector, указывается лишь один горизонтальный радиус R, 
остальные параметры аналогичны параметрам процедуры Sector.</font> </P>
<P><font face="Arial, Helvetica, sans-serif" size="3">Сектор обводится линией, заданной процедурами SetLineStyle и SetColor, и 
заполняется с помощью параметров, определенных процедурой SetFillStyle. 
Процедуру удобно использовать при построении круговых диаграмм, как, например, в 
следующей программе (рис. 14.9).</font> </P>
<p align="center"><img border="0" src="14_9.jpg"    ></p>
<P align="center"><font face="Arial, Helvetica, sans-serif" size="3"><b>Рис. 14.9.</b> Иллюстрация процедуры PieSlice</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">Uses Graph, CRT;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> var</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">d, r, e : Integer;&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Инициируем графический режим}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> d := Detect;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">InitGraph(d, r, '');&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> e := GraphResult; if e &lt;&gt; grOk then</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">WriteLn(GraphErrorMsg(e))&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> else</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">begin</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Выводим маленький сектор}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle(WideDotFill, White);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">PieSlice(GetMaxX div 2+5,GetMaxY div 2+4,270,360,100);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Выводим большой сектор}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">SetFillStyle (SolidFill, Red);</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">PieSlice (GetMaxX div 2,GetMaxY div 2, 0,270,100).;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Выводим надписи}</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">OutTextXY (GetMaxX div 2+90,GetMaxY div 2+70, '25%');</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">OutTextXY(GetMaxX div 2-50,GetMaxY div 2-20, '75%');</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">{Ждем нажатия на любую клавишу}&nbsp;</font>  </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> if ReadKey=#0 then d := ord(ReadKey);&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> 
Close,Graph&nbsp;</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3"> end</font> </P>
<P><font face="Verdana, Arial, Helvetica, sans-serif" size="3">end.</font> </P>

<p>&nbsp;</p>


<table COLS="3" width="%">
<tr>
<td>
<font face="Arial, Helvetica, sans-serif">
<a href="gl14_6.html">
<img SRC="Back.gif" BORDER="0"    >
</a>
</font>
</td>
<td width="%">
<font face="Arial, Helvetica, sans-serif">
<a href="../index.html">
<img SRC="Menu.gif" BORDER="0"    >
</a>
</font>
</td>
<td ALIGN="RIGHT">
<font face="Arial, Helvetica, sans-serif">
<a href="gl14_8.html">
<img SRC="For.gif" BORDER="0"    >
</a>
</font>
</td>
</tr>
</table>

</BODY></HTML>